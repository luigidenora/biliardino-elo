/* Header container - minimal, no space taken */
.notificationHeader {
  position: fixed;
  top: 12px;
  right: 16px;
  left: auto;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

/* Minimal button - icon or avatar visible */
.notificationUserButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  text-decoration: none;
  color: #6e6e73;
  cursor: pointer;
  transition: all 0.18s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', 'Inter', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  transform-origin: right center;
  gap: 0;
}

.notificationUserButton:hover {
  background: #f5f5f7;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.notificationUserButton:active {
  transform: scale(0.96);
}

/* Tooltip on hover - clearer interaction */
.notificationUserButton::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -32px;
  right: 50%;
  transform: translateX(50%);
  background: #1d1d1f;
  color: #ffffff;
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  z-index: 1001;
  letter-spacing: -0.3px;
}

.notificationUserButton:hover::before {
  opacity: 1;
}

/* Arrow under tooltip */
.notificationUserButton::after {
  content: '';
  position: absolute;
  bottom: -28px;
  right: 50%;
  transform: translateX(50%);
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid #1d1d1f;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 1001;
}

.notificationUserButton:hover::after {
  opacity: 1;
}

/* Icon only, very small */
.notificationUserIcon {
  font-size: 0.9rem;
  line-height: 1;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s ease;
  flex-shrink: 0;
  z-index: 2;
  margin-left: 0;
}

.notificationUserButton:hover .notificationUserIcon {
  transform: scale(1.1);
}

/* Avatar - shown when active */
.userAvatar {
  display: none;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ffffff;
  flex-shrink: 0;
  box-shadow: inset 0 0 0 1px #e0e0e0;
}

.active .userAvatar {
  display: block;
}

.active .notificationUserIcon {
  display: none;
}

/* Hide labels */
.notificationTextWrapper {
  display: none;
}

.notificationMainLabel {
  display: none;
}

.notificationSubLabel {
  display: none;
}

/* State: active (green indicator on avatar) */
.active .notificationUserIcon::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  background: #10b981;
  border-radius: 50%;
  bottom: -2px;
  right: -2px;
  border: 2px solid white;
  box-shadow: 0 0 0 1px #10b981;
}

.active {
  border-color: #10b981;
  box-shadow: 0 1px 3px rgba(16, 185, 129, 0.15);
}

/* Indicator dot on bottom-right for active avatar */
.active::after {
  content: '';
  position: absolute;
  width: 7px;
  height: 7px;
  background: #10b981;
  border-radius: 50%;
  bottom: 0;
  right: 0;
  border: 2px solid white;
  box-shadow: 0 0 0 1px #10b981;
  z-index: 3;
}

/* State: inactive (gray) */
.inactive .notificationUserIcon {
  color: #d1d5db;
}

.inactive {
  border-color: #d1d5db;
}

/* Expanded state: grow width to reveal inline select */
.notificationExpanded {
  width: 240px;
  justify-content: flex-start;
  padding: 4px 6px;
  gap: 6px;
}

.notificationExpanded .notificationUserIcon {
  margin-left: auto;
}

.notificationExpanded::before,
.notificationExpanded::after {
  display: none;
}

.notificationInlineSelect {
  display: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background: transparent;
  border: none;
  color: #111827;
  font-size: 0.9rem;
  line-height: 1;
  height: 24px;
  padding: 0 6px 0 4px;
  flex: 1;
}

.notificationExpanded .notificationInlineSelect {
  display: block;
}

/* Responsive - slightly smaller on mobile */
@media (max-width: 768px) {
  .notificationHeader {
    top: 10px;
    right: 12px;
  }

  .notificationUserButton {
    width: 28px;
    height: 28px;
  }

  .userAvatar {
    width: 26px;
    height: 26px;
  }

  .notificationUserIcon {
    font-size: 0.8rem;
    width: 16px;
    height: 16px;
  }

  .notificationUserButton::before {
    bottom: -28px;
    font-size: 0.7rem;
  }

  .notificationUserButton::after {
    bottom: -24px;
    border-left-width: 4px;
    border-right-width: 4px;
    border-bottom-width: 4px;
  }
}

/* Select panel for choosing user */
.notificationPanel {
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  padding: 8px;
  width: 240px;
  z-index: 1002;
  transform: scaleX(0);
  transform-origin: right center;
  opacity: 0;
  transition: transform 0.18s ease, opacity 0.18s ease;
}

.notificationPanelOpen {
  transform: scaleX(1);
  opacity: 1;
}

.notificationPanelTitle {
  font-size: 0.85rem;
  color: #6e6e73;
  margin-bottom: 6px;
  font-weight: 600;
}

.notificationSelect {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  font-size: 0.9rem;
  color: #111827;
  background: #fff;
  outline: none;
}

.notificationActions {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.notificationSaveBtn {
  flex: 1;
  padding: 8px 10px;
  border: 1px solid #10b981;
  background: #10b981;
  color: #fff;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

.notificationActions {
  display: none;
}

.notificationSaveBtn {
  display: none;
}

.notificationCancelBtn {
  display: none;
}